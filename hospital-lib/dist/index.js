!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("hospitalLib",[],e):"object"==typeof exports?exports.hospitalLib=e():t.hospitalLib=e()}(self,(()=>(()=>{"use strict";var t={584:(t,e)=>{var i,n,a;Object.defineProperty(e,"__esModule",{value:!0}),e.Quarantine=e.Drug=e.PatientState=void 0,function(t){t.Fever="F",t.Healthy="H",t.Diabetes="D",t.Tuberculosis="T",t.Dead="X"}(i||(e.PatientState=i={})),function(t){t.Aspirin="As",t.Antibiotic="An",t.Insulin="I",t.Paracetamol="P"}(n||(e.Drug=n={})),function(t){t.ParacetamolAndAspirin="Death",t.AntibioticAndInsulin="FeverForHealthy",t.Aspirin="CuresFever",t.Antibiotic="CuresTuberculosis",t.Insulin="PreventsDiabeticDeath",t.Paracetamol="CuresFever"}(a||(a={}));class s{constructor(t){this.hasStateChanged=new Set,this.patientStates=t,this.drugsAdministered=[]}determineInteraction(t){return{[`${n.Aspirin}${n.Paracetamol}`]:a.ParacetamolAndAspirin,[`${n.Antibiotic}${n.Insulin}`]:a.AntibioticAndInsulin,[n.Aspirin]:a.Aspirin,[n.Antibiotic]:a.Antibiotic,[n.Insulin]:a.Insulin,[n.Paracetamol]:a.Paracetamol}[t.sort(((t,e)=>t.localeCompare(e))).join("")]||null}updateState(t,e){this.hasStateChanged.size>0||(this.patientStates[e]+=this.patientStates[t],this.patientStates[t]=0,this.hasStateChanged.add(t))}setDrugs(t){this.drugsAdministered=t}wait40Days(){const t=this.determineInteraction(this.drugsAdministered),e=Object.assign({},this.patientStates);if(t===a.ParacetamolAndAspirin){const t=Object.values(e).reduce(((t,e)=>t+e),0);return e[i.Dead]+=t,Object.keys(e).forEach((t=>{t!==i.Dead&&(e[t]=0)})),void(this.patientStates=e)}for(const r in this.patientStates){const o=this.patientStates[r];switch(t){case a.AntibioticAndInsulin:r===i.Healthy&&(e[i.Fever]+=o,e[r]=0),r===i.Tuberculosis&&(e[i.Healthy]+=o,e[r]=0);break;case a.Antibiotic:r===i.Tuberculosis&&(e[i.Healthy]+=o,e[r]=0);break;case a.Aspirin:case a.Paracetamol:r===i.Fever&&(e[i.Healthy]+=o,e[r]=0);break;case a.Insulin:break;default:this.drugsAdministered.length&&console.warn(`${s.UNKNOWN_DRUG}: ${this.drugsAdministered.join(", ")}`)}r!==i.Diabetes||this.drugsAdministered.includes(n.Insulin)||(e[i.Dead]+=o,e[r]=0)}this.patientStates=e}report(){return this.patientStates}}e.Quarantine=s,s.UNKNOWN_DRUG="Interaction for this drug/combination is not implemented"}},e={};function i(n){var a=e[n];if(void 0!==a)return a.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}var n={};return(()=>{var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.Quarantine=void 0;var e=i(584);Object.defineProperty(t,"Quarantine",{enumerable:!0,get:function(){return e.Quarantine}})})(),n})()));
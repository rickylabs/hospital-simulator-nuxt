(function(n,a){typeof exports=="object"&&typeof module!="undefined"?a(exports):typeof define=="function"&&define.amd?define(["exports"],a):(n=typeof globalThis!="undefined"?globalThis:n||self,a(n.index={}))})(this,function(n){"use strict";var a=(e=>(e.Fever="F",e.Healthy="H",e.Diabetes="D",e.Tuberculosis="T",e.Dead="X",e))(a||{}),r=(e=>(e.Aspirin="As",e.Antibiotic="An",e.Insulin="I",e.Paracetamol="P",e))(r||{});const u=class{constructor(e){this.hasStateChanged=new Set,this.patientStates=e,this.drugsAdministered=[]}determineInteraction(e){const t={AsP:"Death",AnI:"FeverForHealthy",As:"CuresFever",An:"CuresTuberculosis",I:"PreventsDiabeticDeath",P:"AlsoCuresFever"},s=e.sort((o,f)=>o.localeCompare(f)).join("");return t[s]||null}updateState(e,t){this.hasStateChanged.size>0||(this.patientStates[t]+=this.patientStates[e],this.patientStates[e]=0,this.hasStateChanged.add(e))}setDrugs(e){this.drugsAdministered=e}wait40Days(){const e=this.determineInteraction(this.drugsAdministered),t={...this.patientStates};if(e==="Death"){const i=Object.values(t).reduce((s,o)=>s+o,0);t.X+=i,Object.keys(t).forEach(s=>{s!=="X"&&(t[s]=0)}),this.patientStates=t;return}for(const i in this.patientStates){const s=this.patientStates[i];switch(e){case"FeverForHealthy":i==="H"&&(t.F+=s,t[i]=0),i==="T"&&(t.H+=s,t[i]=0);break;case"CuresTuberculosis":i==="T"&&(t.H+=s,t[i]=0);break;case"CuresFever":case"AlsoCuresFever":i==="F"&&(t.H+=s,t[i]=0);break;case"PreventsDiabeticDeath":break;default:this.drugsAdministered.length&&console.warn(`${u.UNKNOWN_DRUG}: ${this.drugsAdministered.join(", ")}`);break}i==="D"&&!this.drugsAdministered.includes("I")&&(t.X+=s,t[i]=0)}this.patientStates=t}report(){return this.patientStates}};let d=u;d.UNKNOWN_DRUG="Interaction for this drug/combination is not implemented";const c={[a.Fever]:"Fever",[a.Healthy]:"Healthy",[a.Diabetes]:"Diabetes",[a.Tuberculosis]:"Tuberculosis",[a.Dead]:"Dead"},l={[r.Aspirin]:"Aspirin",[r.Antibiotic]:"Antibiotic",[r.Insulin]:"Insulin",[r.Paracetamol]:"Paracetamol"};function h(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}n.Drug=r,n.DrugFullName=l,n.PatientState=a,n.PatientStateFullName=c,n.Quarantine=d,n.getRandomInt=h,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
